<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>에듀 스마일</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/header.css">
</head>
<body>
<!--<div id="loading" class="loading-screen">-->
<!--    <img src="images/loading_img.gif" alt="로딩 중..." class="loading-image">-->
<!--</div>-->
<nav class="navbar" style="background-color: #576096">
    {{#member}}
        <div class="container-fluid d-flex justify-content-between" style="display: flex; align-items: center;">

            <a class="navbar-brand" href={{#isAdmin}}"/admin"{{/isAdmin}}{{^isAdmin}}"/home"{{/isAdmin}}>
            <img src="/images/headtitle.png" alt="Logo" width="175" height="35" class="d-inline-block align-text-top">
            </a>


            <ul class="nav">
                <li class="nav-item" style="display: flex; align-items: center; margin-right: 45px;">
                    <div class="dropdown">
                        <a class="user-info-button"  style="margin-right: 15px" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            게시판
                        </a>

                        <ul class="dropdown-menu dropdown-menu-end" style="
                                background-color: #FFFEFD;
                                opacity: 0.9;
                                border: 1px solid #ddd;
                                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                                width: 300px;
                                border-radius: 5px;
                                font-family: 'Score5', sans-serif;">
                            <li><a class="dropdown-item" href="/">공지사항</a></li>
                            <li><a class="dropdown-item" href="/">과제/준비물</a></li>
                            <li><a class="dropdown-item" href="/">수업요약</a></li>
                            <li><a class="dropdown-item" href="/">시험</a></li>
                            <li><a class="dropdown-item" href="/">자유게시판</a></li>
                        </ul>
                    </div>
                    <div class="user-info">
                        <button class="user-info-button" onclick="toggleDropdown()">{{name}}님</button>
                        <div class="user-info-menu" id="user-info-menu">
                            <div class="user-info-left-column">
                                <a href="/member/change" style="text-decoration: none; color: black;">마이 페이지</a>
                                {{#teacher}}
                                    <a href="/teacher" style="text-decoration: none; color: black;">교사 페이지</a>
                                {{/teacher}}
                                <form id="data_input" action="/logout" method="post" style="margin-top: 40%">
                                    <button type="submit" class="btn btn-link" style="text-decoration: none; color: red; padding: 0; background: none; border: none;">
                                        로그아웃
                                    </button>
                                </form>
                            </div>
                            <div class="user-info-right-column">
                                <div style="text-align: center;">
                                    <img src="/images/user.svg" alt="사용자 이미지" style="width: 60px; height: 60px; border-radius: 50%;">
                                    <p style="margin-bottom: 5px;margin-top: 10px;">교사 정보</p>
                                    <p>교사 연락처</p>
                                </div>

                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    {{/member}}
</nav>
<script>
    function toggleDropdown() {
        const menu = document.getElementById('user-info-menu');
        menu.classList.toggle('active');
    }

    // Close dropdown when clicking outside
    window.addEventListener('click', function(event) {
        const dropdown = document.querySelector('.user-info');
        const menu = document.getElementById('user-info-menu');
        if (!dropdown.contains(event.target)) {
            menu.classList.remove('active');
        }
    });
</script>