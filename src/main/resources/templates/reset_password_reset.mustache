<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>reset_password</title>
    <link rel="stylesheet" href="/css/reset_password_reset.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<div class="_007">
    <div class="rectangle-111"></div>
    <form action="/user/reset_password/reset/post" method="post" oninput="return validateForm()">

        <div class="members-loginid">
            등록 ID
            {{#members}}
                <input type="text" class="member-loginid" name="LoginId" value="{{LoginId}}" readonly />
            {{/members}}
        </div>

        <div class="members-password">
            새 비밀번호
            <input type="password" class="member-password" name="password"  id="password" />
            <div id="passwordError" class="text-danger-pw" style="font-size: 1vw; display: none;">비밀번호는 6-15자의 영문, 숫자, 특수문자가 하나 이상 필요합니다.</div>
        </div>


        <div class="members-password-check">
            새 비밀번호 확인
            <input type="password" class="member-password-check"  id="password-check"  />
            <div id="SamepasswordError" class="text-danger-pw-check" style="font-size: 1vw; display: none;">비밀번호가 일치하지 않습니다.</div>
        </div>

        <button type="submit" id="submitButton" class="change-btn">
            비밀번호 변경
        </button>

    </form>


    <div class="frame-12">
        <img class="polygon-2" src="polygon-20.svg" />
        <div class="div4">비밀번호 재설정</div>
    </div>

    <script>
        function validateForm() {    //회원가입 입력값 유효성 검사

            //비번 유효성
            var password = document.getElementById("password").value;
            var passwordregex = /^(?!\d)(?=[a-zA-Z0-9~․!@#$%^&*()_\-+=\[\]{}|\\;:'"<>,.?/]*[~․!@#$%^&*()_\-+=\[\]{}|\\;:'"<>,.?/])[a-zA-Z0-9~․!@#$%^&*()_\-+=\[\]{}|\\;:'"<>,.?/]{6,15}$/ ; //비밀번호는 6-15자의 영문, 숫자, 특수문자만 사용 가능합니다.(숫자로 시작 불가) //

            var passworderrorMessage = document.getElementById("passwordError");

            if (!passwordregex.test(password)) {
                passworderrorMessage.style.display = "block"; // 에러
                document.getElementById("submitButton").disabled = true; // 제출 버튼 비활성화
                return false;
            } else {
                passworderrorMessage.style.display = "none"; // 에러 x
            }

            var samepassword = document.getElementById("password-check").value;

            var SamepassworderrorMessage = document.getElementById("SamepasswordError");

            if (!password == samepassword) {
                SamepassworderrorMessage.style.display = "block"; // 에러
                document.getElementById("submitButton").disabled = true; // 제출 버튼 비활성화
                return false;
            } else {
                SamepassworderrorMessage.style.display = "none"; // 에러 x
            }





            // 모든 검사를 통과해야 제출 가능
            document.getElementById("submitButton").disabled = false;
            return true;
        }
    </script>




</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>