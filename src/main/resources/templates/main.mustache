{{>header}}
<style>
    /* 컨테이너 스타일 */
    .container {
        background-color: #F6E1A0;
        padding: 25px;
        width: 100%;
        max-width: 1300px;
        border-radius: 20px;
        box-sizing: border-box;
        margin: 0 auto 30px auto;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        flex-wrap: wrap; /* 반응형 */
    }


    /* 정보 블록 */
    .info-box {
        width: 45%;
        text-align: center;
    }

    .info-box h2 {
        color: #576096;
        margin-bottom: 15px;
        font-size: 1.5em;
    }

    .info-content {
        background: white;
        padding: 20px;
        height: 60%;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: relative;
    }


    /* 카드 레이아웃 */
    .grid {
        display: grid;
        width: 100%;
        max-width: 1300px;
        margin: 0 auto;
        grid-template-columns: repeat(2, 1fr); /* 2열 */
        gap: 20px;
    }

    .card {
        background-color: #F6E1A0;
        padding: 20px;
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        text-align: center;
        border: none;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        transition: transform 0.2s ease-in-out;

        min-height: 350px; /* 일정한 높이 유지 */
        height: auto;
        justify-content: flex-start; /* 위쪽 정렬 */
        align-items: stretch; /* 내부 요소 너비 조정 */
    }
    .card h2 {
        font-family: "Hakgyo", sans-serif;
        font-size: 1.3em;
        color: #576096;
        margin-bottom: 15px;
    }

    .cardIn {
        width: 100%;
        padding: 0;
        margin-top: 10px; /* 제목과 간격 조정 */
        flex-grow: 1; /* 리스트가 빈 공간을 차지하도록 설정 */
        text-align: left; /* 텍스트 왼쪽 정렬 */
    }

    .cardIn li {
        width: 100%;
        background-color: white;
        display: flex;
        justify-content: space-between; /* 좌우 정렬 */
        align-items: center; /* 세로 중앙 정렬 */
        padding: 10px 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 가벼운 그림자 */
        margin: 5px 0; /* 항목 간 간격 */
        cursor: pointer;
    }
    .cardIn li.empty {
        justify-content: center; /* 중앙 정렬 */
        text-align: center;
    }

    .cardIn a {
        text-decoration: none;
        color: #333;
        font-size: 1.1em;
        font-weight: bold;
    }

    .cardIn a:hover {
        color: #576096;
        text-decoration: underline;
    }
    .scroll-container {
        display: flex;
        gap: 15px;
        overflow-x: auto;
        height: 100%;
        padding: 10px 0;
        scrollbar-width: thin; /* Firefox */
        scrollbar-color: #576096 transparent; /* Firefox */
        scroll-behavior: smooth; /* 부드러운 스크롤 */
        white-space: nowrap; /* 가로 스크롤 유지 */
    }

    .scroll-container::-webkit-scrollbar {
        height: 8px;
    }

    .scroll-container::-webkit-scrollbar-thumb {
        background-color: #576096;
        border-radius: 4px;
    }

    .scroll-card {
        flex: 0 0 auto;
        width: 250px;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column; /* 세로 정렬 */
        align-items: center;
        justify-content: center;
        padding: 15px;
        transition: transform 0.2s ease-in-out;
        text-align: center;
    }

    .scroll-card:hover {
        transform: translateY(-5px);
    }

    .scroll-card h3 {
        margin: 0 0 10px 0;
        font-size: 1.1em;
        font-weight: bold;
        color: #576096;
    }

    .scroll-card a {
        text-decoration: none;
        color: #333;
        font-size: 1em;
        font-weight: bold;
    }

    .scroll-card a:hover {
        color: #576096;
    }
    .title {
        background-color: #576096;
        color: white;
        border: 5px solid #F19B2A;
        border-radius: 30px;
        width: 15%;
        margin-bottom: 15px;
        padding: 5px;
        text-align: center;
        font-family: Score6;
        font-size: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    }
    .title-text {
        font-weight: bold;
        color: #333;
        font-family: Score5;
    }

    .date-text {
        font-size: 0.9em;
        color: #576096;
    }
    .popup {
        display: none; /* 숨겨진 상태로 시작 */
        position: fixed;
        width: 30%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        z-index: 1000;
    }


    /* 반응형 스타일 */
    @media (max-width: 768px) {
        .container {
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .info-box {
            width: 100%;
        }

        .grid {
            grid-template-columns: 1fr; /* 한 줄 */
        }

    }
    .info-content {
        background: white;
        padding: 20px;
        height: 60%;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: relative;  /* 부모 요소는 상대 위치 설정 */
    }

    .profile {
        position: absolute;  /* 부모 요소 내에서 절대 위치 설정 */
        border: 0.1vw solid #1E2D84;
        width: 15%;
        height: 60%;
        border-radius: 50%;
        left: 20%;  /* 부모의 왼쪽에서 일정한 위치 */
        top: 50%;  /* 부모의 수직 중앙 */
        transform: translateY(-50%);  /* 수직으로 정확히 중앙 정렬 */
    }

</style>

<div id="back_ground">
    <div style="width: 100%;max-width: 1300px; height: auto; margin: 0 auto;">
        <div class="popup" id="popup" style="display: none;">
            <div style="display: flex; justify-content: center; width: 100%;">
                <form method="POST" action="/teacher/classDelete" style="padding: 10px; width: 80%; font-family: Score5; font-size: 20px">
                    <label for="class">등록된 수업을 삭제하시겠습니까?</label>
                    <label for="class">해당 수업과 관련된 모든 게시물이 삭제됩니다.</label>
                    <input id = "deleteCode" type="hidden" name="deleteCode"/>

                    <div style="display: flex; align-items: center; justify-content: flex-end; margin-top: 15px; margin-bottom: 15px;">
                        <button type="button" id="deleteClosePopup" class="btnAll" onclick="popupClose()">취소</button>
                        <button type="submit" class="btnAll" style="margin-left: 15px;background: #EB6319">삭제</button>
                    </div>
                </form>
            </div>
        </div>

        <div style="display: flex; justify-content: flex-start; width: 100%; padding: 0; margin: 0;">
            <div id="text" class="title">🏠 Home</div>
        </div>
        <!-- 학교 및 선생님 정보 -->
        <div class="container">
            <div class="info-box">
                <h2 style="margin: 0 0 10px 0;font-size: 1.1em;font-weight: bold; color: #576096;font-family: Hakgyo">학교 정보</h2>
                <div class="info-content">
                    <p style="font-size: 1.2em; font-weight: bold; color: #333;">🏫 {{member.school}}</p>
                </div>
            </div>

            <div class="info-box">
                <h2 style="margin: 0 0 10px 0;font-size: 1.1em;font-weight: bold; color: #576096;font-family: Hakgyo">담임 선생님 정보</h2>

                <div class="info-content">
                    <img class="profile"
                         src=" {{teacherInfo.img_path}}"
                         onerror="this.src='/blank_profile/blank_profile.svg';" />
                    <p style="font-size: 1.2em; position:relative; font-family: Score6; color: #333; left:1.4vw; top:20%;">성함 : {{teacherInfo.name}}</p>
                    <p style="font-size: 1.2em; position:relative; font-family: Score6; color: #333; left:5vw; top:20%;">전화번호 : {{teacherInfo.phoneNumber}}</p>

                </div>
            </div>
        </div>

        <!-- 게시판 -->
        <div class="grid">
            <!-- 수업 게시판 -->
            <div class="card">
                <h2>수강 목록</h2>
                <div class="scroll-container" id="scrollContainer">
                {{#subjects}}
                    <div class="scroll-card">
                        <h4 style="font-family: Score8">{{subject}}</h4>
                        <p style="font-family: Score5">{{grade}}학년 {{divClass}}분반</p>
                        <br>
                        <p style="font-family: Score5">담당 선생님 : {{teacher.name}}</p>
                        <a style="font-size: 15px; font-family: Score4" href="/board/noticeList?id={{id}}">과목 게시판으로 이동-></a>
                    </div>
                    <div class="scroll-card">
                        <h4 style="font-family: Score8">과목예시</h4>
                        <p style="font-family: Score5">예시 학년 예시 분반</p>
                        <br>
                        <p style="font-family: Score5">담당 선생님 : 김철수</p>
                        <a style="font-size: 15px; font-family: Score4" href="#">과목 게시판으로 이동-></a>
                    </div>
                {{/subjects}}
                {{^subjects}}
                    <div class="scroll-card"><a href="#">과목 등록을 해보세요! </a></div>
                {{/subjects}}
                    <div class="scroll-card" onclick="popup()" style="cursor:pointer;"><h1>&#43</h1></div>
                </div>
            </div>

            <!-- 우리반 소식 -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2 style="text-align: left; margin: 0;">우리반 커뮤니티</h2>
                    <button onclick="location.href='/myClass/list?id={{member.teacherCode}}'"
                            style="width: 35px; height: 35px; background-color: #576096; color: white; border: none;
                       border-radius: 50%; cursor: pointer; display: flex; justify-content: center; align-items: center;
                       font-size: 20px; font-weight: bold; text-align: center; padding: 0;">
                        &#43
                    </button>
                </div>
                <ul class="cardIn">
                    {{#classBoard}}
                        <li onclick="location.href='/myClass?id={{member.teacherCode}}&num={{id}}'" class="clickable">
                            <span class="title-text">{{title}}</span>
                            <span class="date-text">{{updated}}</span>
                        </li>
                    {{/classBoard}}
                    {{^classBoard}}
                        <li class="empty">
                            <span class="title-text">우리반 커뮤니티가 비어있습니다.</span>
                        </li>
                    {{/classBoard}}
                </ul>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const scrollContainer = document.getElementById("scrollContainer");

        scrollContainer.addEventListener("wheel", function (event) {
            event.preventDefault();
            scrollContainer.scrollLeft += event.deltaY * 2; // 마우스 휠 속도 조절 (2배 빠르게)
        });
    });

    function popup(){
        document.getElementById('popup').style.display = 'block';
    }
    function popupClose(){
        document.getElementById('popup').style.display = 'none';
    }
</script>
{{>footer}}